<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>JSON Editor WYSIWYG Example</title>
	<link rel="stylesheet" href="/dashboard/bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="/dashboard/app/src/sceeditor/minified/jquery.sceditor.default.min.css" type="text/css" media="all" />
	<link rel="stylesheet" href="/dashboard/app/src/sceeditor/minified/themes/default.min.css">
	<script src="/dashboard/bower_components/store-js/store.min.js"></script>
	<script src="/dashboard/bower_components/json-editor/dist/jsoneditor.min.js"></script>
	<script type="text/javascript" src="/dashboard/bower_components/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript" src="/dashboard/app/src/sceeditor/minified/jquery.sceditor.min.js"></script>

	<script src="/dashboard/app/elements/core9-core/js/iframe/child.js"></script>
	<script src="/dashboard/app/elements/core9-core/js/core-blocks-forms.js"></script>
	<style>
		body {
			_max-width: 595px;
			overflow-x: hidden;
		}

		#form-container {
			width: 550px;
			margin: 0 auto;
		}

		.sceditor-container {
			width: 100% !important;
		}
	</style>

</head>

<body>

	<div id="form-container">
		<div id='form-holder'></div>
	</div>
	<button class="btn btn-default" id='submit'>Submit (console.log)</button>

	<script>
		// Initialize the editor with a JSON schema
		// editor = new JSONEditor(document.querySelector('#form-holder'), {
		// 	ajax: true,
		// 	disable_edit_json: true,
		// 	disable_collapse: true,
		// 	disable_properties: true,
		// 	format: 'grid',
		// 	theme: 'bootstrap3',
		// 	no_additional_properties: false,
		// 	required_by_default: false,
		// 	schema: {
		// 		type: "object",
		// 		title: " ",
		// 		properties: {
		// 			title: {
		// 				type: "string"
		// 			},
		// 			body: {
		// 				type: "string",
		// 				format: "html",
		// 				options: {
		// 					wysiwyg: true
		// 				}
		// 			}
		// 		}
		// 	}
		// });

		// Hook up the submit button to log to the console
		document.getElementById('submit').addEventListener('click', function() {
			// Get the value from the editor
			console.log(editor.getValue());
		});
	</script>


	<script>
		var callback = function(event) {
			console.log(event);

			if(event.data.action == "showPageForm"){
				Core9.blocks.forms.init(event.data);
			}

			try {
				//eval(event.data);
			} catch (e) {}
		}
		Core9.iframe.child.listenToPostMessages(callback);
	</script>

</body>

</html>
