<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="/dashboard/bower_components/handlebars/handlebars.min.js"></script>
<script src="/dashboard/bower_components/traverse/traverse.js"></script>
</head>
<body>
	<script>
		var html = {
			"template" : "template/html.json",
			"data" : "data/html.json",
			"partials" : {
				"header" : {
					"template" : "template/header.json",
					"data" : "data/header.json",
					"partials" : {
						"global" : {
							"template" : "template/header.global.json",
							"data" : "data/header.global.json",
							"partials" : {

							}
						}
					}
				},
				"body" : {
					"template" : "template/body.json",
					"data" : "data/body.json",
					"partials" : {
						"global" : {
							"template" : "template/body.global.json",
							"data" : "data/body.global.json",
							"partials" : {
								"blog" : {
									"template" : "template/blog.json",
									"data" : "data/blog.json",
									"partials" : {
										"sidemenu" : {
											"template" : "template/sidemenu.json",
											"data" : "data/sidemenu.json",
											"partials" : {}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	</script>

<script id="entry-template" type="text/x-handlebars-template">
<div class="post">
  {{> userMessage tagName="h1" }}
  <h1>Comments</h1>
  {{#each comments}}
    {{> userMessage tagName="h2" }}
  {{/each}}
</div>
</script>

<script id="user-message" type="text/x-handlebars-template">
    <{{tagName}}>By {{author.firstName}} {{author.lastName}}</{{tagName}}>
        <div class="body">{{body}}</div>
</script>

<script>
		Handlebars.registerPartial('userMessage', document
				.getElementById("user-message").innerText);

		var template = Handlebars.compile(document
				.getElementById("entry-template").innerText);

		var context = {
			author : {
				firstName : "Alan",
				lastName : "Johnson"
			},
			body : "I Love Handlebars",
			comments : [ {
				author : {
					firstName : "Yehuda",
					lastName : "Katz"
				},
				body : "Me too!"
			} ]
		};

		console.log(template(context));
	</script>


</body>
</html>