<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="/dashboard/bower_components/handlebars/handlebars.min.js"></script>
</head>
<body>

<script id="entry-template" type="text/x-handlebars-template">
<div class="post">
  {{> userMessage tagName="h1" }}
  <h1>Comments</h1>
  {{#each comments}}
    {{> userMessage tagName="h2" }}
  {{/each}}
</div>
</script>

<script id="user-message" type="text/x-handlebars-template">
    <{{tagName}}>By {{author.firstName}} {{author.lastName}}</{{tagName}}>
        <div class="body">{{body}}</div>
</script>

<script>
		Handlebars.registerPartial('userMessage', document
				.getElementById("user-message").innerText);

		var template = Handlebars.compile(document
				.getElementById("entry-template").innerText);

		var context = {
			author : {
				firstName : "Alan",
				lastName : "Johnson"
			},
			body : "I Love Handlebars",
			comments : [ {
				author : {
					firstName : "Yehuda",
					lastName : "Katz"
				},
				body : "Me too!"
			} ]
		};

		console.log(template(context));
	</script>


</body>
</html>