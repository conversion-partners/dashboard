/**
 * inversify-logger-middleware v.1.0.0-beta.3 - A basic logger middleware for InversifyJS
 * Copyright (c) 2015 Remo H. Jansen <remo.jansen@wolksoftware.com> (http://www.remojansen.com)
 * MIT inversify.io/LICENSE
 * https://github.com/inversify/inversify-logger-middleware#readme
 */
"use strict";
var constants_1 = require("./constants");
var chalk = require("chalk");
var yellow = chalk.yellow;
function getIndentationForDepth(depth) {
    var indentationForDepth = constants_1.indentation;
    for (var i = depth; i--; i >= 0) {
        indentationForDepth = "" + indentationForDepth + constants_1.indentation;
    }
    return indentationForDepth;
}
exports.getIndentationForDepth = getIndentationForDepth;
function getTime() {
    if (typeof window !== "undefined") {
        return window.performance.now();
    }
    else if (typeof process !== "undefined") {
        var nanoseconds = process.hrtime()[1];
        var milliseconds = nanoseconds / 1000000;
        return milliseconds;
    }
    else {
        return new Date().getTime();
    }
}
exports.getTime = getTime;
function getTimeDiference(start, end) {
    var diff = end - start;
    var formatted = diff.toFixed(2);
    return formatted;
}
exports.getTimeDiference = getTimeDiference;
function makePropertyLogger(indentationForDepth) {
    return function (log, tabCount, key, value) {
        var line = "" + log + indentationForDepth;
        for (var i = tabCount; i > 0; i--) {
            line = "" + line + constants_1.indentation;
        }
        line = "" + line + constants_1.tree.item + " " + key;
        if (value !== undefined) {
            line = line + " : " + yellow(value.toString());
        }
        return line + "\n";
    };
}
exports.makePropertyLogger = makePropertyLogger;
